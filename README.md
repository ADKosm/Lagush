# Lagush
Web-Server

Многопоточный веб-сервер написанный на С++ с поддержкой CGI (Common Gateway Interface).

Данный веб-сервер компактен, не требователен к ресурсам и оптимизирован для работы под высокой нагрузкой.

Сервер является системной службой для systemd и имеет средства изоляции для потенциально-опастных скриптов.

# Config file
В перспективе планируется сделать сервер в виде службы для systemd. На данный момент сервер берет настройки из файла конфигурации.

Файл должен называться config и лежать в одной из сделующих директорий

* /path/to/server/config
* /path/to/server/../config
* /path/to/server/../CGI/config
* /path/to/server/../Lagush/config

Пример файла конфигурации:

    # Основная директория
    root_directory:/path/Lagush/web

    # Директория с стандартными ответами сервера (404 и т.д.)
    responses:/path/Lagush/responses

    # Файл для записи логов
    log:/path/Lagush/log/logfile

    # Порт, занимаемый сервером
    port:3001

    # Время ожидания ответа от клиента
    timelimit:10

    # Расширения файлов, являющиеся CGI-скриптами
    cgi: .cgi .py 

    # Путь к jail директории
    jail:/path/to/jail

    # Включить ли защищенный режим или нет
    jail_enable:true

Важный момент - все пути абсолютные

Защищенный режим не позволяет запускаемым сторонним скриптам нанести урон реальной системе. Однако данный режим несколько замедляет запуск скриптов (особенно первый запуск - сервер должен перенести все необходимые библиотеки для работы скрипта).

# Build

Склонируйте репозиторий

В директории Lagush запустите qmake-qt4

При необходимости установите qmake:
    sudo apt-get install qt4-qmake
(команда установит только qmake)

Запустите make

В CGI-build (или другой подходящей папке (см. выше)) создайте конфиг-файл

Если Вам требуется изоляция потенциально опастных скриптов, установите SUID флаг на cgi-module

Запустите сервер
    ./server

??????

PROFIT!
